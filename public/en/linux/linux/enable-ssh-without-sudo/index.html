<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Run SSH Without sudo: User-Level sshd on Linux | Jeanphilo Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Below is a full draft based on your SSH startup and debugging process. It is ready for publication on a technical blog.

Run SSH Without sudo on Linux (User-Level sshd Guide)
Subtitle / Abstract:
When you have no root access in a lab or restricted server environment, how do you start SSH and access your account remotely? This guide shows how to run sshd in your user directory, enable key login, and connect remotely.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/en/linux/linux/enable-ssh-without-sudo/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/linux/linux/enable-ssh-without-sudo/">
<link rel="alternate" hreflang="en" href="http://localhost:1313/en/linux/linux/enable-ssh-without-sudo/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="http://localhost:1313/en/linux/linux/enable-ssh-without-sudo/">
  <meta property="og:site_name" content="Jeanphilo Blog">
  <meta property="og:title" content="Run SSH Without sudo: User-Level sshd on Linux">
  <meta property="og:description" content="Below is a full draft based on your SSH startup and debugging process. It is ready for publication on a technical blog.
Run SSH Without sudo on Linux (User-Level sshd Guide) Subtitle / Abstract: When you have no root access in a lab or restricted server environment, how do you start SSH and access your account remotely? This guide shows how to run sshd in your user directory, enable key login, and connect remotely.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="linux">
    <meta property="article:published_time" content="2025-10-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-10-24T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Run SSH Without sudo: User-Level sshd on Linux">
<meta name="twitter:description" content="Below is a full draft based on your SSH startup and debugging process. It is ready for publication on a technical blog.

Run SSH Without sudo on Linux (User-Level sshd Guide)
Subtitle / Abstract:
When you have no root access in a lab or restricted server environment, how do you start SSH and access your account remotely? This guide shows how to run sshd in your user directory, enable key login, and connect remotely.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Linux",
      "item": "http://localhost:1313/en/linux/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Linux",
      "item": "http://localhost:1313/en/linux/linux/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Run SSH Without sudo: User-Level sshd on Linux",
      "item": "http://localhost:1313/en/linux/linux/enable-ssh-without-sudo/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Run SSH Without sudo: User-Level sshd on Linux",
  "name": "Run SSH Without sudo: User-Level sshd on Linux",
  "description": "Below is a full draft based on your SSH startup and debugging process. It is ready for publication on a technical blog.\nRun SSH Without sudo on Linux (User-Level sshd Guide) Subtitle / Abstract: When you have no root access in a lab or restricted server environment, how do you start SSH and access your account remotely? This guide shows how to run sshd in your user directory, enable key login, and connect remotely.\n",
  "keywords": [
    
  ],
  "articleBody": "Below is a full draft based on your SSH startup and debugging process. It is ready for publication on a technical blog.\nRun SSH Without sudo on Linux (User-Level sshd Guide) Subtitle / Abstract: When you have no root access in a lab or restricted server environment, how do you start SSH and access your account remotely? This guide shows how to run sshd in your user directory, enable key login, and connect remotely.\nReading time: 10 minutes Target readers: intermediate Linux users, researchers, server users, DevOps learners Tags: SSH, sshd, Linux, remote access, non-root, system config SEO keywords: SSH without root, user-level sshd, openssh config, unprivileged ports, remote login failed\nBackground and motivation Many research servers and shared hosts do not grant sudo. But we still need:\nremote login file upload/download access from another machine By default, sshd requires root because it binds port 22 and reads system auth info. However, you can run a user-level SSH service in your home directory without changing system config.\nCore concepts Term Meaning sshd SSH server daemon that accepts connections user-space sshd sshd started by a normal user, no root privileges HostKey key pair used to encrypt SSH connections AuthorizedKeys list of public keys allowed to log in /etc/shadow password hash file; non-root cannot read Step-by-step: Start user-level SSH Step 1: Prepare config Create directory:\nmkdir -p ~/.ssh Create config ~/.ssh/ssh_config:\nPort 2222 ListenAddress 0.0.0.0 HostKey /home//.ssh/ssh_host_ed25519_key AuthorizedKeysFile /home//.ssh/authorized_keys PasswordAuthentication yes PubkeyAuthentication yes ChallengeResponseAuthentication no PidFile /home//.ssh/sshd.pid Note: do not use ~ in paths; OpenSSH will not expand it.\nStep 2: Generate host keys ssh-keygen -t ed25519 -f ~/.ssh/ssh_host_ed25519_key -N \"\" chmod 600 ~/.ssh/ssh_host_ed25519_key Step 3: Start user-level sshd /usr/bin/sshd -d -f ~/.ssh/ssh_config If you see:\nServer listening on 0.0.0.0 port 2222. then it is running. Test locally:\nssh -p 2222 @localhost Explanation Why use port 2222? Ports \u003c 1024 are privileged and require root. Use 2222 or 8022 instead.\nWhy “Could not get shadow information”? Non-root users cannot read /etc/shadow, so password auth fails. Use public keys instead.\nUse SSH key login (recommended) Generate local key (no email comment):\nssh-keygen -t ed25519 -C \"\" -f ~/.ssh/id_ed25519_noemail Add to authorized keys:\ncat ~/.ssh/id_ed25519_noemail.pub \u003e\u003e ~/.ssh/authorized_keys chmod 700 ~/.ssh chmod 600 ~/.ssh/authorized_keys Test login:\nssh -i ~/.ssh/id_ed25519_noemail -p 2222 @localhost Allow remote access Ensure sshd listens on all addresses\nss -tlnp | grep 2222 If output is 127.0.0.1:2222, it is local only. Set:\nListenAddress 0.0.0.0 and restart sshd.\nFirewall and NAT\nIf external access shows “Connection refused”, firewall or NAT is blocking. If localhost works but public IP fails, open the port or configure forwarding. Run sshd in background\nnohup /usr/bin/sshd -f ~/.ssh/ssh_config -E ~/.ssh/sshd.log \u0026 tail -f ~/.ssh/sshd.log Common issues Issue Cause Fix Permission denied (password) cannot read /etc/shadow use key auth Address already in use port in use kill old process or change port Bind to port failed tried port 22 use port \u003e 1024 Connection refused firewall / NAT block check listen address and policies Could not load host key HostKey path wrong use absolute path and chmod 600 Best practices Use ed25519 keys (secure and fast). In non-root environments, use key-only auth. Keep ~/.ssh at 700 and authorized_keys at 600. Do not expose your home directory or host keys. If remote access is needed, ensure ListenAddress 0.0.0.0 and open ports. Summary This guide shows how to:\nStart SSH without sudo Enable key auth to avoid /etc/shadow Support both local and remote login Debug common errors like “Connection refused” You can now run your own SSH service under a normal account.\nReferences OpenSSH manual man sshd_config RFC 4251: The Secure Shell Protocol Architecture Linux file permissions Call to Action (CTA) Try starting your own user-level sshd using the steps above. Save and share this guide for restricted environments. Share your SSH deployment pitfalls and fixes. Do you want a Markdown version with syntax highlighting ready for publishing?\n",
  "wordCount" : "647",
  "inLanguage": "en",
  "datePublished": "2025-10-24T00:00:00Z",
  "dateModified": "2025-10-24T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/en/linux/linux/enable-ssh-without-sudo/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jeanphilo Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/en/" accesskey="h" title="Jeanphilo Blog (Alt + H)">Jeanphilo Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                    <ul class="lang-switch"><li>|</li>
                        <li>
                            <a href="http://localhost:1313/" title="中文"
                                aria-label="中文">Zh</a>
                        </li>
                    </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/en/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/dev/" title="Development">
                    <span>Dev</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/alg/" title="Algorithms">
                    <span>Algorithms</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/en/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/en/linux/">Linux</a>&nbsp;»&nbsp;<a href="http://localhost:1313/en/linux/linux/">Linux</a></div>
    <h1 class="post-title entry-hint-parent">
      Run SSH Without sudo: User-Level sshd on Linux
    </h1>
    <div class="post-meta"><span title='2025-10-24 00:00:00 +0000 UTC'>October 24, 2025</span>&nbsp;·&nbsp;<span>4 min</span>&nbsp;|&nbsp;<span>Translations:</span>
<ul class="i18n_list">
    <li>
        <a href="http://localhost:1313/linux/linux/enable-ssh-without-sudo/">Zh</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#run-ssh-without-sudo-on-linux-user-level-sshd-guide" aria-label="Run SSH Without sudo on Linux (User-Level sshd Guide)">Run SSH Without sudo on Linux (User-Level sshd Guide)</a><ul>
                        
                <li>
                    <a href="#background-and-motivation" aria-label="Background and motivation">Background and motivation</a></li>
                <li>
                    <a href="#core-concepts" aria-label="Core concepts">Core concepts</a></li>
                <li>
                    <a href="#step-by-step-start-user-level-ssh" aria-label="Step-by-step: Start user-level SSH">Step-by-step: Start user-level SSH</a><ul>
                        
                <li>
                    <a href="#step-1-prepare-config" aria-label="Step 1: Prepare config">Step 1: Prepare config</a></li>
                <li>
                    <a href="#step-2-generate-host-keys" aria-label="Step 2: Generate host keys">Step 2: Generate host keys</a></li>
                <li>
                    <a href="#step-3-start-user-level-sshd" aria-label="Step 3: Start user-level sshd">Step 3: Start user-level sshd</a></li></ul>
                </li>
                <li>
                    <a href="#explanation" aria-label="Explanation">Explanation</a></li>
                <li>
                    <a href="#use-ssh-key-login-recommended" aria-label="Use SSH key login (recommended)">Use SSH key login (recommended)</a></li>
                <li>
                    <a href="#allow-remote-access" aria-label="Allow remote access">Allow remote access</a></li>
                <li>
                    <a href="#common-issues" aria-label="Common issues">Common issues</a></li>
                <li>
                    <a href="#best-practices" aria-label="Best practices">Best practices</a></li>
                <li>
                    <a href="#summary" aria-label="Summary">Summary</a></li>
                <li>
                    <a href="#references" aria-label="References">References</a></li>
                <li>
                    <a href="#call-to-action-cta" aria-label="Call to Action (CTA)">Call to Action (CTA)</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Below is a full draft based on your SSH startup and debugging process. It is ready for publication on a technical blog.</p>
<hr>
<h1 id="run-ssh-without-sudo-on-linux-user-level-sshd-guide">Run SSH Without sudo on Linux (User-Level sshd Guide)<a hidden class="anchor" aria-hidden="true" href="#run-ssh-without-sudo-on-linux-user-level-sshd-guide">#</a></h1>
<p><strong>Subtitle / Abstract:</strong>
When you have no root access in a lab or restricted server environment, how do you start SSH and access your account remotely? This guide shows how to run <code>sshd</code> in your user directory, enable key login, and connect remotely.</p>
<p><strong>Reading time:</strong> 10 minutes
<strong>Target readers:</strong> intermediate Linux users, researchers, server users, DevOps learners
<strong>Tags:</strong> SSH, sshd, Linux, remote access, non-root, system config
<strong>SEO keywords:</strong> SSH without root, user-level sshd, openssh config, unprivileged ports, remote login failed</p>
<hr>
<h2 id="background-and-motivation">Background and motivation<a hidden class="anchor" aria-hidden="true" href="#background-and-motivation">#</a></h2>
<p>Many research servers and shared hosts do not grant <code>sudo</code>. But we still need:</p>
<ul>
<li>remote login</li>
<li>file upload/download</li>
<li>access from another machine</li>
</ul>
<p>By default, <code>sshd</code> requires root because it binds port 22 and reads system auth info. However, you can run a <strong>user-level SSH service</strong> in your home directory without changing system config.</p>
<hr>
<h2 id="core-concepts">Core concepts<a hidden class="anchor" aria-hidden="true" href="#core-concepts">#</a></h2>
<table>
  <thead>
      <tr>
          <th>Term</th>
          <th>Meaning</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>sshd</strong></td>
          <td>SSH server daemon that accepts connections</td>
      </tr>
      <tr>
          <td><strong>user-space sshd</strong></td>
          <td>sshd started by a normal user, no root privileges</td>
      </tr>
      <tr>
          <td><strong>HostKey</strong></td>
          <td>key pair used to encrypt SSH connections</td>
      </tr>
      <tr>
          <td><strong>AuthorizedKeys</strong></td>
          <td>list of public keys allowed to log in</td>
      </tr>
      <tr>
          <td><strong>/etc/shadow</strong></td>
          <td>password hash file; non-root cannot read</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="step-by-step-start-user-level-ssh">Step-by-step: Start user-level SSH<a hidden class="anchor" aria-hidden="true" href="#step-by-step-start-user-level-ssh">#</a></h2>
<h3 id="step-1-prepare-config">Step 1: Prepare config<a hidden class="anchor" aria-hidden="true" href="#step-1-prepare-config">#</a></h3>
<p>Create directory:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p ~/.ssh
</span></span></code></pre></div><p>Create config <code>~/.ssh/ssh_config</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Port <span style="color:#ae81ff">2222</span>
</span></span><span style="display:flex;"><span>ListenAddress 0.0.0.0
</span></span><span style="display:flex;"><span>HostKey /home/&lt;username&gt;/.ssh/ssh_host_ed25519_key
</span></span><span style="display:flex;"><span>AuthorizedKeysFile /home/&lt;username&gt;/.ssh/authorized_keys
</span></span><span style="display:flex;"><span>PasswordAuthentication yes
</span></span><span style="display:flex;"><span>PubkeyAuthentication yes
</span></span><span style="display:flex;"><span>ChallengeResponseAuthentication no
</span></span><span style="display:flex;"><span>PidFile /home/&lt;username&gt;/.ssh/sshd.pid
</span></span></code></pre></div><blockquote>
<p>Note: do not use <code>~</code> in paths; OpenSSH will not expand it.</p>
</blockquote>
<hr>
<h3 id="step-2-generate-host-keys">Step 2: Generate host keys<a hidden class="anchor" aria-hidden="true" href="#step-2-generate-host-keys">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh-keygen -t ed25519 -f ~/.ssh/ssh_host_ed25519_key -N <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.ssh/ssh_host_ed25519_key
</span></span></code></pre></div><hr>
<h3 id="step-3-start-user-level-sshd">Step 3: Start user-level sshd<a hidden class="anchor" aria-hidden="true" href="#step-3-start-user-level-sshd">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/usr/bin/sshd -d -f ~/.ssh/ssh_config
</span></span></code></pre></div><p>If you see:</p>
<pre tabindex="0"><code>Server listening on 0.0.0.0 port 2222.
</code></pre><p>then it is running. Test locally:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -p <span style="color:#ae81ff">2222</span> &lt;username&gt;@localhost
</span></span></code></pre></div><hr>
<h2 id="explanation">Explanation<a hidden class="anchor" aria-hidden="true" href="#explanation">#</a></h2>
<ol>
<li>
<p><strong>Why use port 2222?</strong>
Ports &lt; 1024 are privileged and require root. Use 2222 or 8022 instead.</p>
</li>
<li>
<p><strong>Why &ldquo;Could not get shadow information&rdquo;?</strong>
Non-root users cannot read <code>/etc/shadow</code>, so password auth fails. Use public keys instead.</p>
</li>
</ol>
<hr>
<h2 id="use-ssh-key-login-recommended">Use SSH key login (recommended)<a hidden class="anchor" aria-hidden="true" href="#use-ssh-key-login-recommended">#</a></h2>
<ol>
<li>
<p><strong>Generate local key (no email comment):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh-keygen -t ed25519 -C <span style="color:#e6db74">&#34;&#34;</span> -f ~/.ssh/id_ed25519_noemail
</span></span></code></pre></div></li>
<li>
<p><strong>Add to authorized keys:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat ~/.ssh/id_ed25519_noemail.pub &gt;&gt; ~/.ssh/authorized_keys
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">700</span> ~/.ssh
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> ~/.ssh/authorized_keys
</span></span></code></pre></div></li>
<li>
<p><strong>Test login:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -i ~/.ssh/id_ed25519_noemail -p <span style="color:#ae81ff">2222</span> &lt;username&gt;@localhost
</span></span></code></pre></div></li>
</ol>
<hr>
<h2 id="allow-remote-access">Allow remote access<a hidden class="anchor" aria-hidden="true" href="#allow-remote-access">#</a></h2>
<ol>
<li>
<p><strong>Ensure sshd listens on all addresses</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ss -tlnp | grep <span style="color:#ae81ff">2222</span>
</span></span></code></pre></div><p>If output is <code>127.0.0.1:2222</code>, it is local only. Set:</p>
<pre tabindex="0"><code>ListenAddress 0.0.0.0
</code></pre><p>and restart sshd.</p>
</li>
<li>
<p><strong>Firewall and NAT</strong></p>
<ul>
<li>If external access shows &ldquo;Connection refused&rdquo;, firewall or NAT is blocking.</li>
<li>If <code>localhost</code> works but public IP fails, open the port or configure forwarding.</li>
</ul>
</li>
<li>
<p><strong>Run sshd in background</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nohup /usr/bin/sshd -f ~/.ssh/ssh_config -E ~/.ssh/sshd.log &amp;
</span></span><span style="display:flex;"><span>tail -f ~/.ssh/sshd.log
</span></span></code></pre></div></li>
</ol>
<hr>
<h2 id="common-issues">Common issues<a hidden class="anchor" aria-hidden="true" href="#common-issues">#</a></h2>
<table>
  <thead>
      <tr>
          <th>Issue</th>
          <th>Cause</th>
          <th>Fix</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>Permission denied (password)</code></td>
          <td>cannot read <code>/etc/shadow</code></td>
          <td>use key auth</td>
      </tr>
      <tr>
          <td><code>Address already in use</code></td>
          <td>port in use</td>
          <td>kill old process or change port</td>
      </tr>
      <tr>
          <td><code>Bind to port failed</code></td>
          <td>tried port 22</td>
          <td>use port &gt; 1024</td>
      </tr>
      <tr>
          <td><code>Connection refused</code></td>
          <td>firewall / NAT block</td>
          <td>check listen address and policies</td>
      </tr>
      <tr>
          <td><code>Could not load host key</code></td>
          <td>HostKey path wrong</td>
          <td>use absolute path and chmod 600</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="best-practices">Best practices<a hidden class="anchor" aria-hidden="true" href="#best-practices">#</a></h2>
<ul>
<li>Use <strong>ed25519</strong> keys (secure and fast).</li>
<li>In non-root environments, use <strong>key-only auth</strong>.</li>
<li>Keep <code>~/.ssh</code> at 700 and <code>authorized_keys</code> at 600.</li>
<li>Do not expose your home directory or host keys.</li>
<li>If remote access is needed, ensure <code>ListenAddress 0.0.0.0</code> and open ports.</li>
</ul>
<hr>
<h2 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h2>
<p>This guide shows how to:</p>
<ol>
<li>Start SSH without sudo</li>
<li>Enable key auth to avoid <code>/etc/shadow</code></li>
<li>Support both local and remote login</li>
<li>Debug common errors like &ldquo;Connection refused&rdquo;</li>
</ol>
<p>You can now run your own SSH service under a normal account.</p>
<hr>
<h2 id="references">References<a hidden class="anchor" aria-hidden="true" href="#references">#</a></h2>
<ul>
<li><a href="https://www.openssh.com/manual.html">OpenSSH manual</a></li>
<li><a href="https://man.openbsd.org/sshd_config">man sshd_config</a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc4251">RFC 4251: The Secure Shell Protocol Architecture</a></li>
<li><a href="https://wiki.archlinux.org/title/File_permissions_and_attributes">Linux file permissions</a></li>
</ul>
<hr>
<h2 id="call-to-action-cta">Call to Action (CTA)<a hidden class="anchor" aria-hidden="true" href="#call-to-action-cta">#</a></h2>
<ul>
<li>Try starting your own user-level sshd using the steps above.</li>
<li>Save and share this guide for restricted environments.</li>
<li>Share your SSH deployment pitfalls and fixes.</li>
</ul>
<hr>
<p>Do you want a Markdown version with syntax highlighting ready for publishing?</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Run SSH Without sudo: User-Level sshd on Linux on x"
            href="https://x.com/intent/tweet/?text=Run%20SSH%20Without%20sudo%3a%20User-Level%20sshd%20on%20Linux&amp;url=http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Run SSH Without sudo: User-Level sshd on Linux on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f&amp;title=Run%20SSH%20Without%20sudo%3a%20User-Level%20sshd%20on%20Linux&amp;summary=Run%20SSH%20Without%20sudo%3a%20User-Level%20sshd%20on%20Linux&amp;source=http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Run SSH Without sudo: User-Level sshd on Linux on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f&title=Run%20SSH%20Without%20sudo%3a%20User-Level%20sshd%20on%20Linux">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Run SSH Without sudo: User-Level sshd on Linux on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Run SSH Without sudo: User-Level sshd on Linux on whatsapp"
            href="https://api.whatsapp.com/send?text=Run%20SSH%20Without%20sudo%3a%20User-Level%20sshd%20on%20Linux%20-%20http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Run SSH Without sudo: User-Level sshd on Linux on telegram"
            href="https://telegram.me/share/url?text=Run%20SSH%20Without%20sudo%3a%20User-Level%20sshd%20on%20Linux&amp;url=http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Run SSH Without sudo: User-Level sshd on Linux on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Run%20SSH%20Without%20sudo%3a%20User-Level%20sshd%20on%20Linux&u=http%3a%2f%2flocalhost%3a1313%2fen%2flinux%2flinux%2fenable-ssh-without-sudo%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/en/">Jeanphilo Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
