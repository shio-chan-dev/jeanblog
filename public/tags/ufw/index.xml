<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>UFW on Jeanphilo Blog</title>
    <link>http://localhost:1313/tags/ufw/</link>
    <description>Recent content in UFW on Jeanphilo Blog</description>
    <generator>Hugo -- 0.152.2</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sat, 22 Nov 2025 12:00:00 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/ufw/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ç”¨ UFW &#43; CrowdSecï¼Œå½»åº•é˜»æ­¢æ¶æ„ç«¯å£æ‰«æï¼šä» Fail2ban è¸©å‘åˆ°ç»ˆæè§£å†³æ–¹æ¡ˆ</title>
      <link>http://localhost:1313/linux/linux/ufw-crowdsec-portscan/</link>
      <pubDate>Sat, 22 Nov 2025 12:00:00 +0800</pubDate>
      <guid>http://localhost:1313/linux/linux/ufw-crowdsec-portscan/</guid>
      <description>&lt;h1 id=&#34;-ç”¨-ufw--crowdsecå½»åº•é˜»æ­¢æ¶æ„ç«¯å£æ‰«æ&#34;&gt;ğŸ›¡ï¸ ç”¨ UFW + CrowdSecï¼Œå½»åº•é˜»æ­¢æ¶æ„ç«¯å£æ‰«æ&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;å‰¯æ ‡é¢˜ / æ‘˜è¦ï¼š&lt;/strong&gt; å¦‚ä½•å®‰å…¨é˜²æŠ¤ä½ çš„æœåŠ¡å™¨æš´éœ²ç«¯å£ï¼Ÿæœ¬æ–‡å¸¦ä½ ä» Fail2ban çš„æ­£åˆ™åœ°ç‹±èµ°å‡ºï¼Œæ„å»ºä¸€ä¸ªç¨³å®šã€è‡ªåŠ¨åŒ–ã€æ™ºèƒ½åŒ–çš„ç«¯å£æ‰«æé˜²å¾¡ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;-ç›®æ ‡è¯»è€…&#34;&gt;ğŸ¯ ç›®æ ‡è¯»è€…&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ FRP / å†…ç½‘ç©¿é€çš„å¼€å‘è€…&lt;/li&gt;
&lt;li&gt;ç®¡ç†äº‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ã€é˜¿é‡Œäº‘ã€AWS ç­‰ï¼‰çš„è¿ç»´äººå‘˜&lt;/li&gt;
&lt;li&gt;æƒ³é˜²å¾¡ç«¯å£æ‰«æã€SSH æš´åŠ›ç ´è§£çš„æ–°æ‰‹æˆ–ä¸­çº§ Linux ç”¨æˆ·&lt;/li&gt;
&lt;li&gt;å¯¹ Fail2ban æ„Ÿå…´è¶£ã€æƒ³å‡çº§åˆ°æ›´ç°ä»£å®‰å…¨ä½“ç³»çš„äºº&lt;/li&gt;
&lt;li&gt;æƒ³å®Œå–„æœåŠ¡å™¨å®‰å…¨æ–¹æ¡ˆçš„ä¸ªäººå¼€å‘è€…&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;-èƒŒæ™¯--åŠ¨æœºä¸ºä»€ä¹ˆéœ€è¦ç«¯å£æ‰«æé˜²æŠ¤&#34;&gt;ğŸ’¢ èƒŒæ™¯ / åŠ¨æœºï¼šä¸ºä»€ä¹ˆéœ€è¦ç«¯å£æ‰«æé˜²æŠ¤ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;åœ¨è¿è¡Œ FRPï¼ˆfrps + frpcï¼‰æˆ–å¼€æ”¾å¤šä¸ªç«¯å£æ—¶ï¼Œä½ çš„æœåŠ¡å™¨é€šå¸¸ä¼šé­é‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµ·é‡æ‰«æï¼šæ¯ç§’å¤šæ¬¡ SYN æ¢æµ‹&lt;/li&gt;
&lt;li&gt;æ¶æ„è¿æ¥å°è¯•ï¼šget a user connection [&amp;hellip;]&lt;/li&gt;
&lt;li&gt;SSH å¯†ç çˆ†ç ´&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–è„šæœ¬æ‰«æ 6001â€“6010ã€7000ã€22ã€8080 ç­‰å¸¸è§ç«¯å£&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¼ ç»Ÿåšæ³•å­˜åœ¨ç—›ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é˜²ç«å¢™ï¼ˆUFWï¼‰åªèƒ½è¢«åŠ¨æ‹’ç»&lt;/li&gt;
&lt;li&gt;Fail2ban é…ç½®å¤æ‚ã€ä¾èµ–æ­£åˆ™ã€å®¹æ˜“è¯¯åˆ¤ã€ä¸æ”¯æŒé«˜çº§è¡Œä¸ºåˆ†æ&lt;/li&gt;
&lt;li&gt;FRPS æ—¥å¿—æ ¼å¼ç‰¹æ®Šï¼ŒFail2ban å¾ˆéš¾åŒ¹é…&lt;/li&gt;
&lt;li&gt;æ”»å‡»ä¼šå ç”¨ frps/sshd èµ„æºï¼Œæœ€ç»ˆå¯¼è‡´å¡é¡¿ã€æ–­æµ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª&lt;strong&gt;æ— éœ€å†™æ­£åˆ™ã€èƒ½è‡ªåŠ¨æ£€æµ‹æ‰«æã€æ™ºèƒ½å°ç¦æ¶æ„ IP çš„ç°ä»£é˜²å¾¡ä½“ç³»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;-æ ¸å¿ƒæ¦‚å¿µ&#34;&gt;ğŸ“˜ æ ¸å¿ƒæ¦‚å¿µ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FRPï¼ˆfrps / frpcï¼‰&lt;/strong&gt;ï¼šç”¨äºå†…ç½‘ç©¿é€ï¼Œå¸¸æš´éœ²å¤§é‡ TCP ç«¯å£ï¼ˆå¦‚ 6001â€“6010ï¼‰ï¼Œå®¹æ˜“è¢«æ‰«æã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UFWï¼ˆUncomplicated Firewallï¼‰&lt;/strong&gt;ï¼šUbuntu é»˜è®¤é˜²ç«å¢™ï¼Œä½†ç¼ºä¹æ™ºèƒ½æ£€æµ‹åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fail2ban&lt;/strong&gt;ï¼šä¼ ç»Ÿæ—¥å¿—åŒ¹é…å‹å°ç¦å·¥å…·ï¼Œéœ€è¦æ‰‹å†™æ­£åˆ™ï¼Œè¸©å‘æ¦‚ç‡é«˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CrowdSecï¼ˆæ¨èï¼‰&lt;/strong&gt;ï¼šæ–°ä¸€ä»£å¼€æ”¾å¼å…¥ä¾µé˜²å¾¡ç³»ç»Ÿ (IPS)ï¼Œè‡ªåŠ¨æ£€æµ‹ç«¯å£æ‰«æå’Œæš´åŠ›ç ´è§£ï¼Œäº‹ä»¶é©±åŠ¨ + è¡Œä¸ºåˆ†æï¼Œèµ„æºæ¶ˆè€—æä½ï¼Œæ˜¯ Fail2ban çš„ç°ä»£æ›¿ä»£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;-å®è·µæŒ‡å—ä½¿ç”¨-crowdsec-è‡ªåŠ¨é˜»æ­¢ç«¯å£æ‰«æubuntudebian&#34;&gt;ğŸ›  å®è·µæŒ‡å—ï¼šä½¿ç”¨ CrowdSec è‡ªåŠ¨é˜»æ­¢ç«¯å£æ‰«æï¼ˆUbuntu/Debianï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;1-å®‰è£…-crowdsec&#34;&gt;1) å®‰è£… CrowdSec&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -s https://packagecloud.io/install/repositories/crowdsec/crowdsec/script.deb.sh | sudo bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt install crowdsec -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-å®‰è£…é˜²ç«å¢™å°ç¦ç»„ä»¶iptables--ufw-è‡ªåŠ¨é…åˆ&#34;&gt;2) å®‰è£…é˜²ç«å¢™å°ç¦ç»„ä»¶ï¼ˆiptables / ufw è‡ªåŠ¨é…åˆï¼‰&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt install crowdsec-firewall-bouncer-iptables
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;CrowdSec ä¼šè‡ªåŠ¨æ¥ç®¡å°ç¦åŠ¨ä½œã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
