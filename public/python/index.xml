<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Pythons on Jeanphilo Blog</title>
    <link>http://localhost:1313/jeanblog/python/</link>
    <description>Recent content in Pythons on Jeanphilo Blog</description>
    <generator>Hugo -- 0.152.2</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 28 Aug 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/jeanblog/python/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>结构化日志和追踪</title>
      <link>http://localhost:1313/jeanblog/python/%E7%BB%93%E6%9E%84%E5%8C%96%E6%97%A5%E5%BF%97%E5%92%8C%E8%BF%BD%E8%B8%AA/</link>
      <pubDate>Thu, 28 Aug 2025 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/jeanblog/python/%E7%BB%93%E6%9E%84%E5%8C%96%E6%97%A5%E5%BF%97%E5%92%8C%E8%BF%BD%E8%B8%AA/</guid>
      <description>&lt;p&gt;Python 日志与追踪
Python 日志追踪实践
结构化日志与追踪&lt;/p&gt;
&lt;p&gt;副标题/摘要：
结合 logging + OpenTelemetry 实现结构化日志并把 trace_id 注入日志，便于在生产环境串联调用链与定位问题。&lt;/p&gt;
&lt;p&gt;TL;DR：
设置 json 格式日志并通过 OpenTelemetry 在每条日志里注入 trace_id/span_id。关键步骤：安装依赖 → 配置 logging（JSON）→ 配置 TracerProvider → 用 Filter 从当前 span 提取 trace 信息并添加到日志记录中。&lt;/p&gt;
&lt;p&gt;目录&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;背景与动机（为什么需要）&lt;/li&gt;
&lt;li&gt;关键概念与术语解释&lt;/li&gt;
&lt;li&gt;环境与依赖（安装命令）&lt;/li&gt;
&lt;li&gt;逐步实战示例（可直接运行）&lt;/li&gt;
&lt;li&gt;原理与实现要点&lt;/li&gt;
&lt;li&gt;常见问题与注意事项&lt;/li&gt;
&lt;li&gt;最佳实践总结&lt;/li&gt;
&lt;li&gt;结论与下一步建议&lt;/li&gt;
&lt;li&gt;可视化建议&lt;/li&gt;
&lt;li&gt;参考与延伸阅读&lt;/li&gt;
&lt;li&gt;可复制示例代码&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;背景与动机（为什么需要）
现代后端服务分布式部署后，单靠文本日志很难把一次请求链路从入口到后端串起来。结构化日志（JSON）便于聚合与查询；而分布式追踪（tracing）给出调用链与 span 信息。二者结合能快速定位延迟与错误根因：日志告诉你“发生了什么”，trace 告诉你“这个请求经过了哪些服务/操作”。&lt;/p&gt;
&lt;p&gt;关键概念与术语解释（简明）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;日志（Logging）：程序运行时的事件记录，通常按级别（INFO/ERROR）输出。&lt;/li&gt;
&lt;li&gt;结构化日志：以 JSON 等结构化格式输出，便于机器处理与检索。&lt;/li&gt;
&lt;li&gt;Trace/Span：一次分布式操作（trace）由若干子操作（span）组成，span 含有 trace_id 与 span_id。&lt;/li&gt;
&lt;li&gt;Context Propagation：在不同服务/线程/协程中传递 trace context 以串联调用链。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;环境与依赖（列出安装命令）
推荐环境：Python 3.8+
安装依赖：
pip install python-json-logger opentelemetry-api opentelemetry-sdk&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
